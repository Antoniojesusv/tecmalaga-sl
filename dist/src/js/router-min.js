function Router(t={}){const{routes:e,rootElement:o=1,body:n="body",script:i="script"}=t;if(validationSpa.isValidFeaturesRouter(t))throw new appException({name:"RouterFeaturesException",msg:"the characteristics are not valid or are not of the string type"});this.routes=e,this.guy=this.loadTags(t),this.init()}Router.prototype={init:function(){const t=this.routes;!function(t,e){window.addEventListener("hashchange",o=>{t.hasChanged(t,e)})}(this,t),this.hasChanged(this,t)},loadTags:t=>({rootElement:window.document.getElementById(t.rootElement),body:window.document.getElementById(t.body),script:window.document.getElementById(t.script)}),hasChanged:function(t,e){window.location.hash||this.showPageDefault(t,e),e.forEach(e=>{e.isActiveRoute(window.location.hash.substr(1))&&t.goToRoute(e.html)})},showPageDefault:function(t,e){const o=e.filter(t=>t.defaultPage);t.goToRoute(o[0].html)},goToRoute:function(t){!function(e){const o=e.contentToDownload(t).map(o=>e.dynamicCalls({scope:e,htmlName:t,element:o}));Promise.all(o).then(([t,o])=>{e.putHtml(t),e.putScript(o)})}(this)},contentToDownload:function(t){const e=t.split(".");return[`src/views/html/${e[0]}/${t}`,`src/views/html/${e[0]}/${e[0]}.Controller.js`]},dynamicCalls:function(t){return new Promise((e,o)=>{const n=new XMLHttpRequest;n.onreadystatechange=function(){4!==this.readyState||200!==this.status||e(this.responseText)},n.open("GET",t.element,!0),n.send()})},putScript:function(t){const e=window.document.getElementById("script");this.guy.body.removeChild(e);const o=window.document.createElement("script");o.defer=!0,o.id="script",o.innerHTML=t,this.guy.body.appendChild(o)},putHtml:function(t){this.guy.rootElement.innerHTML=t}};